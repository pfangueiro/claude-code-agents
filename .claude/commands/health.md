# System Health Check and Recovery

Perform comprehensive system health analysis, monitoring, and recovery procedures to ensure optimal agent system performance and reliability.

Parse the arguments to determine health operation:
- "check" - Comprehensive system health analysis
- "monitor" - Real-time health monitoring dashboard
- "recover" - Trigger automatic recovery procedures
- "optimize" - Health-based system optimization
- "report" - Generate detailed health report

## Health Check Operations

### Comprehensive System Analysis
1. **Agent Health Assessment**
   - Use health-monitor agent to check all agent statuses
   - Verify agent configuration integrity and consistency
   - Test agent activation and response capabilities
   - Validate agent coordination and handoff mechanisms

2. **Integration Health Analysis**
   - Use integration-specialist to check MCP server connectivity
   - Verify external API health (GitHub, Context7, Playwright, Magic)
   - Test circuit breaker and fallback mechanisms
   - Validate authentication and security configurations

3. **Performance Health Check**
   - Use performance-optimizer to analyze system performance
   - Check resource usage (CPU, memory, disk, network)
   - Analyze agent execution times and efficiency
   - Identify performance bottlenecks and optimization opportunities

4. **System Resource Analysis**
   - Check file system health and disk space availability
   - Monitor process health and detect hanging operations
   - Analyze log file sizes and rotation needs
   - Verify system dependencies and tool availability

### Real-Time Health Monitoring
1. **Live Health Dashboard**
   - Display real-time agent status and performance
   - Show system resource usage and availability
   - Monitor external service connectivity and response times
   - Track cost and token usage in real-time

2. **Predictive Health Analysis**
   - Use workflow-learner to identify potential health issues
   - Predict resource exhaustion and scaling needs
   - Generate early warning alerts for system degradation
   - Provide proactive maintenance recommendations

### Automatic Recovery Procedures
1. **Self-Healing Operations**
   - Detect and restart failed or hung agents
   - Implement automatic fallback to backup systems
   - Trigger circuit breakers for failing external services
   - Perform automatic resource cleanup and optimization

2. **Recovery Coordination**
   - Coordinate recovery procedures across all system components
   - Implement graceful degradation for partial system failures
   - Restore agent coordination and communication channels
   - Validate system integrity after recovery procedures

## Health Optimization

### Performance-Based Optimization
1. **Resource Optimization**
   - Optimize agent resource allocation based on health analysis
   - Implement intelligent scaling based on system load
   - Optimize file system usage and log management
   - Tune system parameters for optimal performance

2. **Coordination Optimization**
   - Optimize agent coordination patterns based on health metrics
   - Improve handoff efficiency and reduce coordination overhead
   - Implement load balancing for optimal resource utilization
   - Enhance parallel execution based on system capacity

## Integration with Intelligence System

### Coordination with Health Agents
- **health-monitor**: Primary health analysis and monitoring
- **integration-specialist**: External service health and recovery
- **performance-optimizer**: Performance-based health optimization
- **ai-optimizer**: Cost-aware health optimization

### Health Data Sources
- Real-time system metrics and resource usage
- Agent execution logs and performance data
- External service health and connectivity status
- Historical health patterns and trends

## Expected Health Outcomes

- **System Reliability**: 99.9%+ uptime through proactive monitoring
- **Performance Optimization**: 25%+ improvement through health-based tuning
- **Cost Efficiency**: Health-based resource optimization reducing waste
- **Predictive Maintenance**: 85% reduction in unexpected failures

## Output Format

Provide comprehensive health status with:
- Overall system health score and status indicators
- Agent health analysis with performance metrics
- Integration health status and external service connectivity
- Resource usage analysis and optimization recommendations
- Recovery procedures status and effectiveness
- Predictive maintenance alerts and recommended actions

Coordinate health monitoring agents to provide complete system health analysis and automated recovery capabilities.